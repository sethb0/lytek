{
  "bsonType": "object",
  "properties": {
    "id": {
      "description": "unique ID of reference card (string, required)",
      "bsonType": "string",
      "pattern": "^[a-z]+(-[a-z]+)*(:[a-z]+(-[a-z]+)*)*$"
    },
    "tabs": {
      "description": "titles of tabs containing this reference card (array of strings, required)",
      "bsonType": "array",
      "items": {
        "description": "title of a reference tab (string)",
        "bsonType": "string",
        "pattern": "^\\S+( \\S+)*$"
      }
    },
    "markdown": {
      "description": "human-readable text content in Markdown format (string, required)",
      "bsonType": "string"
    },
    "chronicles": {
      "description": "list of chronicles to whose players/GMs this card is permitted to be displayed",
      "bsonType": "object",
      "properties": {
        "player": {
          "description": "names of chronicles for which to show this card to all players (and GMs) (array of strings)",
          "bsonType": "array",
          "items": {
            "bsonType": "string"
          }
        },
        "gm": {
          "description": "names of chronicles for which to show this card only to GMs (array of strings)",
          "bsonType": "array",
          "items": {
            "bsonType": "string"
          }
        }
      },
      "additionalProperties": false
    }
  },
  "additionalProperties": false,
  "required": [
    "id",
    "tabs",
    "markdown"
  ]
}
